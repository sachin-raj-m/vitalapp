(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,5050,e=>{"use strict";var t=e.i(43476);e.s(["Card",0,({children:e,className:l=""})=>(0,t.jsx)("div",{className:`bg-white rounded-lg shadow-md overflow-hidden ${l}`,children:e}),"CardBody",0,({children:e,className:l=""})=>(0,t.jsx)("div",{className:`px-6 py-4 ${l}`,children:e}),"CardHeader",0,({children:e,className:l=""})=>(0,t.jsx)("div",{className:`px-6 py-4 border-b border-gray-200 ${l}`,children:e})])},78896,98791,e=>{"use strict";var t=e.i(43476);let l=(0,e.i(75254).default)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>l],98791);var r=e.i(5631),a=e.i(52571),s=e.i(37727);e.s(["Alert",0,({title:e,children:n,variant:o="info",onClose:i,className:d=""})=>{let c={info:(0,t.jsx)(a.Info,{className:"h-5 w-5 text-blue-400"}),success:(0,t.jsx)(r.CheckCircle,{className:"h-5 w-5 text-green-400"}),warning:(0,t.jsx)(l,{className:"h-5 w-5 text-yellow-400"}),error:(0,t.jsx)(l,{className:"h-5 w-5 text-red-400"})},u=`
    rounded-md p-4
    ${{info:"bg-blue-50 text-blue-800",success:"bg-green-50 text-green-800",warning:"bg-yellow-50 text-yellow-800",error:"bg-red-50 text-red-800"}[o]}
    ${d}
  `;return(0,t.jsx)("div",{className:u,children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:c[o]}),(0,t.jsxs)("div",{className:"ml-3 flex-1",children:[e&&(0,t.jsx)("h3",{className:"text-sm font-medium",children:e}),(0,t.jsx)("div",{className:`text-sm ${e?"mt-2":""}`,children:n})]}),i&&(0,t.jsx)("div",{className:"ml-auto pl-3",children:(0,t.jsx)("div",{className:"-mx-1.5 -my-1.5",children:(0,t.jsxs)("button",{type:"button",onClick:i,className:`
                  inline-flex rounded-md p-1.5 focus:outline-none focus:ring-2 focus:ring-offset-2
                  ${"info"===o?"text-blue-500 hover:bg-blue-100 focus:ring-blue-600":""}
                  ${"success"===o?"text-green-500 hover:bg-green-100 focus:ring-green-600":""}
                  ${"warning"===o?"text-yellow-500 hover:bg-yellow-100 focus:ring-yellow-600":""}
                  ${"error"===o?"text-red-500 hover:bg-red-100 focus:ring-red-600":""}
                `,children:[(0,t.jsx)("span",{className:"sr-only",children:"Dismiss"}),(0,t.jsx)(s.X,{className:"h-5 w-5"})]})})})]})})}],78896)},1206,e=>{"use strict";var t=e.i(43476);e.s(["Input",0,({label:e,error:l,helperText:r,className:a="",...s})=>{let n=s.id||s.name||Math.random().toString(36).substring(2,9);return(0,t.jsxs)("div",{className:"mb-4",children:[e&&(0,t.jsx)("label",{htmlFor:n,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),(0,t.jsx)("input",{id:n,className:`
          w-full px-3 py-2 border rounded-md shadow-sm placeholder-gray-400 
          focus:outline-none focus:ring-2 
          ${l?"border-error-300 focus:border-error-500 focus:ring-error-500":"border-gray-300 focus:border-secondary-500 focus:ring-secondary-500"}
          ${a}
        `,...s}),l&&(0,t.jsx)("p",{className:"mt-1 text-sm text-error-500",children:l}),r&&!l&&(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:r})]})},"Select",0,({label:e,error:l,helperText:r,options:a,className:s="",...n})=>{let o=n.id||n.name||Math.random().toString(36).substring(2,9);return(0,t.jsxs)("div",{className:"mb-4",children:[e&&(0,t.jsx)("label",{htmlFor:o,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),(0,t.jsx)("select",{id:o,className:`
          w-full px-3 py-2 border rounded-md shadow-sm placeholder-gray-400 
          focus:outline-none focus:ring-2 
          ${l?"border-error-300 focus:border-error-500 focus:ring-error-500":"border-gray-300 focus:border-secondary-500 focus:ring-secondary-500"}
          ${s}
        `,...n,children:a.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))}),l&&(0,t.jsx)("p",{className:"mt-1 text-sm text-error-500",children:l}),r&&!l&&(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:r})]})},"Textarea",0,({label:e,error:l,helperText:r,className:a="",...s})=>{let n=s.id||s.name||Math.random().toString(36).substring(2,9);return(0,t.jsxs)("div",{className:"mb-4",children:[e&&(0,t.jsx)("label",{htmlFor:n,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),(0,t.jsx)("textarea",{id:n,className:`
          w-full px-3 py-2 border rounded-md shadow-sm placeholder-gray-400 
          focus:outline-none focus:ring-2 
          ${l?"border-error-300 focus:border-error-500 focus:ring-error-500":"border-gray-300 focus:border-secondary-500 focus:ring-secondary-500"}
          ${a}
        `,...s}),l&&(0,t.jsx)("p",{className:"mt-1 text-sm text-error-500",children:l}),r&&!l&&(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:r})]})}])},46897,e=>{"use strict";let t=(0,e.i(75254).default)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>t],46897)},67585,(e,t,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"BailoutToCSR",{enumerable:!0,get:function(){return a}});let r=e.r(32061);function a({reason:e,children:t}){if("undefined"==typeof window)throw Object.defineProperty(new r.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t}},9885,(e,t,l)=>{"use strict";function r(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"encodeURIPath",{enumerable:!0,get:function(){return r}})},52157,(e,t,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"PreloadChunks",{enumerable:!0,get:function(){return o}});let r=e.r(43476),a=e.r(74080),s=e.r(63599),n=e.r(9885);function o({moduleIds:e}){if("undefined"!=typeof window)return null;let t=s.workAsyncStorage.getStore();if(void 0===t)return null;let l=[];if(t.reactLoadableManifest&&e){let r=t.reactLoadableManifest;for(let t of e){if(!r[t])continue;let e=r[t].files;l.push(...e)}}return 0===l.length?null:(0,r.jsx)(r.Fragment,{children:l.map(e=>{let l=`${t.assetPrefix}/_next/${(0,n.encodeURIPath)(e)}`;return e.endsWith(".css")?(0,r.jsx)("link",{precedence:"dynamic",href:l,rel:"stylesheet",as:"style",nonce:t.nonce},e):((0,a.preload)(l,{as:"script",fetchPriority:"low",nonce:t.nonce}),null)})})}},69093,(e,t,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"default",{enumerable:!0,get:function(){return d}});let r=e.r(43476),a=e.r(71645),s=e.r(67585),n=e.r(52157);function o(e){return{default:e&&"default"in e?e.default:e}}let i={loader:()=>Promise.resolve(o(()=>null)),loading:null,ssr:!0},d=function(e){let t={...i,...e},l=(0,a.lazy)(()=>t.loader().then(o)),d=t.loading;function c(e){let o=d?(0,r.jsx)(d,{isLoading:!0,pastDelay:!0,error:null}):null,i=!t.ssr||!!t.loading,c=i?a.Suspense:a.Fragment,u=t.ssr?(0,r.jsxs)(r.Fragment,{children:["undefined"==typeof window?(0,r.jsx)(n.PreloadChunks,{moduleIds:t.modules}):null,(0,r.jsx)(l,{...e})]}):(0,r.jsx)(s.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(l,{...e})});return(0,r.jsx)(c,{...i?{fallback:o}:{},children:u})}return c.displayName="LoadableComponent",c}},70703,(e,t,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"default",{enumerable:!0,get:function(){return a}});let r=e.r(55682)._(e.r(69093));function a(e,t){let l={};"function"==typeof e&&(l.loader=e);let a={...l,...t};return(0,r.default)({...a,modules:a.loadableGenerated?.modules})}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),t.exports=l.default)},95585,e=>{"use strict";var t=e.i(43476),l=e.i(71645),r=e.i(18566),a=e.i(46897),s=e.i(98791),n=e.i(5050),o=e.i(1206),i=e.i(76525),d=e.i(78896),c=e.i(97815),u=e.i(17927);let m=(0,e.i(70703).default)(()=>e.A(9585),{loadableGenerated:{modules:[5481]},ssr:!1,loading:()=>(0,t.jsx)("div",{className:"h-[400px] w-full bg-gray-100 animate-pulse flex items-center justify-center rounded-lg",children:(0,t.jsx)("span",{className:"text-gray-400",children:"Loading Map..."})})});function x(){let e=(0,r.useRouter)(),{user:x}=(0,c.useAuth)(),[g,h]=(0,l.useState)(!1),[f,p]=(0,l.useState)(""),[b,y]=(0,l.useState)({bloodGroup:"",unitsNeeded:1,dateNeeded:"",hospitalName:"",hospitalAddress:"",urgencyLevel:"",notes:"",contactName:x?.full_name||"",contactPhone:x?.phone||"",location:{latitude:0,longitude:0,address:""},city:"",zipcode:""}),v=async t=>{if(t.preventDefault(),x){h(!0),p("");try{let{error:t}=await u.supabase.from("blood_requests").insert({user_id:x.id,blood_group:b.bloodGroup,units_needed:b.unitsNeeded,date_needed:b.dateNeeded,hospital_name:b.hospitalName,hospital_address:b.hospitalAddress,urgency_level:b.urgencyLevel,notes:b.notes,contact_name:b.contactName,contact_phone:b.contactPhone,location:b.location,city:b.city,zipcode:b.zipcode,status:"active"});if(t)throw t;e.push("/requests")}catch(e){p(e.message||"Failed to create request")}finally{h(!1)}}};return(0,t.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,t.jsxs)(n.Card,{children:[(0,t.jsxs)(n.CardHeader,{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Create Blood Request"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Fill in the details to create a new blood request"})]}),(0,t.jsxs)(n.CardBody,{children:[f&&(0,t.jsx)(d.Alert,{variant:"error",className:"mb-4",children:f}),(0,t.jsxs)("form",{onSubmit:v,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,t.jsx)(o.Select,{label:"Blood Group",value:b.bloodGroup,onChange:e=>y({...b,bloodGroup:e.target.value}),options:[{value:"",label:"Select Blood Group"},{value:"A+",label:"A+"},{value:"A-",label:"A-"},{value:"B+",label:"B+"},{value:"B-",label:"B-"},{value:"AB+",label:"AB+"},{value:"AB-",label:"AB-"},{value:"O+",label:"O+"},{value:"O-",label:"O-"}],required:!0}),(0,t.jsx)(o.Input,{type:"number",label:"Units Needed",min:1,value:b.unitsNeeded,onChange:e=>y({...b,unitsNeeded:parseInt(e.target.value)}),required:!0}),(0,t.jsx)(o.Input,{type:"date",label:"Date Needed",value:b.dateNeeded,min:new Date().toISOString().split("T")[0],onChange:e=>y({...b,dateNeeded:e.target.value}),required:!0})]}),(0,t.jsx)(o.Input,{label:"Hospital Name",value:b.hospitalName,onChange:e=>y({...b,hospitalName:e.target.value}),required:!0}),(0,t.jsx)(o.Input,{label:"Hospital Address",value:b.hospitalAddress,onChange:e=>y({...b,hospitalAddress:e.target.value}),required:!0}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,t.jsx)(o.Input,{label:"City",value:b.city,onChange:e=>y({...b,city:e.target.value}),required:!0,placeholder:"e.g. Bangalore"}),(0,t.jsx)(o.Input,{label:"Zip Code",value:b.zipcode,onChange:e=>y({...b,zipcode:e.target.value}),required:!0,placeholder:"e.g. 560001"})]}),(0,t.jsx)(o.Select,{label:"Urgency Level",value:b.urgencyLevel,onChange:e=>y({...b,urgencyLevel:e.target.value}),options:[{value:"",label:"Select Urgency Level"},{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}],required:!0}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Location Selection (Click on map)"}),(0,t.jsx)("div",{className:"h-[400px] border border-gray-300 rounded-lg overflow-hidden relative z-0",children:(0,t.jsx)(m,{interactive:!0,center:{lat:20.5937,lng:78.9629},zoom:5,selectedPosition:b.location.latitude?{lat:b.location.latitude,lng:b.location.longitude}:null,markers:[],onLocationSelect:e=>{y(t=>({...t,location:{...t.location,latitude:e.lat,longitude:e.lng}}))}})}),(0,t.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,t.jsx)(i.Button,{type:"button",variant:"secondary",onClick:()=>{"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(e=>{y(t=>({...t,location:{...t.location,latitude:e.coords.latitude,longitude:e.coords.longitude}}))},e=>{console.error("Error getting location")})},leftIcon:(0,t.jsx)(a.MapPin,{className:"h-5 w-5"}),children:"Use My Current Location"}),0!==b.location.latitude&&(0,t.jsxs)("span",{className:"text-sm text-green-600 flex items-center",children:[(0,t.jsx)(a.MapPin,{className:"h-4 w-4 mr-1"}),"Lat: ",b.location.latitude.toFixed(4),", Lng: ",b.location.longitude.toFixed(4)]})]})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,t.jsx)(o.Input,{label:"Contact Name",value:b.contactName,onChange:e=>y({...b,contactName:e.target.value}),required:!0}),(0,t.jsx)(o.Input,{label:"Contact Phone",value:b.contactPhone,onChange:e=>y({...b,contactPhone:e.target.value}),required:!0})]}),(0,t.jsx)(o.Textarea,{label:"Additional Notes",value:b.notes,onChange:e=>y({...b,notes:e.target.value}),placeholder:"Any additional information that might be helpful..."}),(0,t.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,t.jsx)(i.Button,{type:"button",variant:"ghost",onClick:()=>e.push("/requests"),children:"Cancel"}),(0,t.jsx)(i.Button,{type:"submit",variant:"primary",isLoading:g,leftIcon:(0,t.jsx)(s.AlertCircle,{className:"h-5 w-5"}),children:"Create Request"})]})]})]})]})})}e.s(["default",()=>x])},9585,e=>{e.v(t=>Promise.all(["static/chunks/81308917bb7a5a99.js","static/chunks/076efda0d0cae75b.css"].map(t=>e.l(t))).then(()=>t(5481)))}]);