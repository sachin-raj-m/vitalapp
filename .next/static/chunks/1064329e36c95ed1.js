(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,5050,e=>{"use strict";var s=e.i(43476);e.s(["Card",0,({children:e,className:t=""})=>(0,s.jsx)("div",{className:`bg-white rounded-lg shadow-md overflow-hidden ${t}`,children:e}),"CardBody",0,({children:e,className:t=""})=>(0,s.jsx)("div",{className:`px-6 py-4 ${t}`,children:e}),"CardHeader",0,({children:e,className:t=""})=>(0,s.jsx)("div",{className:`px-6 py-4 border-b border-gray-200 ${t}`,children:e})])},98791,e=>{"use strict";let s=(0,e.i(75254).default)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>s],98791)},78896,37727,e=>{"use strict";var s=e.i(43476),t=e.i(98791),r=e.i(75254);let a=(0,r.default)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),l=(0,r.default)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),i=(0,r.default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>i],37727),e.s(["Alert",0,({title:e,children:r,variant:d="info",onClose:c,className:n=""})=>{let o={info:(0,s.jsx)(l,{className:"h-5 w-5 text-blue-400"}),success:(0,s.jsx)(a,{className:"h-5 w-5 text-green-400"}),warning:(0,s.jsx)(t.AlertCircle,{className:"h-5 w-5 text-yellow-400"}),error:(0,s.jsx)(t.AlertCircle,{className:"h-5 w-5 text-red-400"})},x=`
    rounded-md p-4
    ${{info:"bg-blue-50 text-blue-800",success:"bg-green-50 text-green-800",warning:"bg-yellow-50 text-yellow-800",error:"bg-red-50 text-red-800"}[d]}
    ${n}
  `;return(0,s.jsx)("div",{className:x,children:(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:o[d]}),(0,s.jsxs)("div",{className:"ml-3 flex-1",children:[e&&(0,s.jsx)("h3",{className:"text-sm font-medium",children:e}),(0,s.jsx)("div",{className:`text-sm ${e?"mt-2":""}`,children:r})]}),c&&(0,s.jsx)("div",{className:"ml-auto pl-3",children:(0,s.jsx)("div",{className:"-mx-1.5 -my-1.5",children:(0,s.jsxs)("button",{type:"button",onClick:c,className:`
                  inline-flex rounded-md p-1.5 focus:outline-none focus:ring-2 focus:ring-offset-2
                  ${"info"===d?"text-blue-500 hover:bg-blue-100 focus:ring-blue-600":""}
                  ${"success"===d?"text-green-500 hover:bg-green-100 focus:ring-green-600":""}
                  ${"warning"===d?"text-yellow-500 hover:bg-yellow-100 focus:ring-yellow-600":""}
                  ${"error"===d?"text-red-500 hover:bg-red-100 focus:ring-red-600":""}
                `,children:[(0,s.jsx)("span",{className:"sr-only",children:"Dismiss"}),(0,s.jsx)(i,{className:"h-5 w-5"})]})})})]})})}],78896)},23261,e=>{"use strict";var s=e.i(43476),t=e.i(71645),r=e.i(17927),a=e.i(5050),l=e.i(76525),i=e.i(78896),d=e.i(29377),c=e.i(75254);let n=(0,c.default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var o=e.i(37727);let x=(0,c.default)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),h=(0,c.default)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);function m(){let[e,c]=(0,t.useState)([]),[m,u]=(0,t.useState)(!0),[f,p]=(0,t.useState)(null),[y,g]=(0,t.useState)("");(0,t.useEffect)(()=>{j()},[]);let j=async()=>{try{let{data:e,error:s}=await r.supabase.from("profiles").select("*").eq("verification_status","pending").eq("is_donor",!0).order("created_at",{ascending:!1});if(s)throw s;c(e||[])}catch(e){g(e.message)}finally{u(!1)}},b=async(e,s)=>{p(e);try{let{error:t}=await r.supabase.from("profiles").update({verification_status:s}).eq("id",e);if(t)throw t;c(s=>s.filter(s=>s.id!==e))}catch(e){g(e.message)}finally{p(null)}};return m?(0,s.jsx)("div",{className:"flex justify-center py-8",children:(0,s.jsx)(d.Loader2,{className:"h-8 w-8 animate-spin text-primary-500"})}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("h2",{className:"text-xl font-semibold",children:["Pending Verifications (",e.length,")"]}),y&&(0,s.jsx)(i.Alert,{variant:"error",children:y}),0===e.length?(0,s.jsx)(a.Card,{children:(0,s.jsx)(a.CardBody,{className:"text-center py-8 text-gray-500",children:"No pending verifications found."})}):(0,s.jsx)("div",{className:"grid gap-4",children:e.map(e=>(0,s.jsx)(a.Card,{children:(0,s.jsxs)(a.CardBody,{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-lg",children:e.full_name}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:e.email}),(0,s.jsxs)("div",{className:"mt-2 flex items-center space-x-4",children:[(0,s.jsx)("span",{className:"bg-primary-100 text-primary-800 text-xs px-2 py-1 rounded-full font-medium",children:e.blood_group}),(0,s.jsxs)("span",{className:"text-xs text-gray-500",children:["Submitted: ",new Date(e.created_at).toLocaleDateString()]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 w-full md:w-auto",children:[e.blood_group_proof_url&&(0,s.jsxs)("a",{href:(e=>{if(!e)return"";let{data:s}=r.supabase.storage.from("proofs").getPublicUrl(e);return s.publicUrl})(e.blood_group_proof_url),target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-blue-600 hover:text-blue-800 text-sm mr-4",children:[(0,s.jsx)(x,{className:"h-4 w-4 mr-1"}),"View Proof",(0,s.jsx)(h,{className:"h-3 w-3 ml-1"})]}),(0,s.jsx)(l.Button,{variant:"secondary",onClick:()=>b(e.id,"rejected"),isLoading:f===e.id,className:"text-red-600 hover:text-red-700 hover:bg-red-50",leftIcon:(0,s.jsx)(o.X,{className:"h-4 w-4"}),children:"Reject"}),(0,s.jsx)(l.Button,{variant:"primary",onClick:()=>b(e.id,"verified"),isLoading:f===e.id,leftIcon:(0,s.jsx)(n,{className:"h-4 w-4"}),children:"Approve"})]})]})},e.id))})]})}e.s(["default",()=>m],23261)}]);