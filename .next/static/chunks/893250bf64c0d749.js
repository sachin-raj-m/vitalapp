(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,36271,e=>{"use strict";var r=e.i(17927);async function o(e){try{console.log("Checking registration completion for user:",e);let{data:o,error:s}=await r.supabase.from("profiles").select("full_name, blood_group, blood_group_proof_url").eq("id",e).single();if(s)throw console.error("Error fetching profile:",s),s;console.log("Profile data:",o);let t=!!(o&&o.full_name&&o.blood_group&&o.blood_group_proof_url);return console.log("Registration complete?",t),t}catch(e){return console.error("Error checking registration status:",e),!1}}e.s(["isRegistrationComplete",()=>o])},5050,e=>{"use strict";var r=e.i(43476);e.s(["Card",0,({children:e,className:o=""})=>(0,r.jsx)("div",{className:`bg-white rounded-lg shadow-md overflow-hidden ${o}`,children:e}),"CardBody",0,({children:e,className:o=""})=>(0,r.jsx)("div",{className:`px-6 py-4 ${o}`,children:e}),"CardHeader",0,({children:e,className:o=""})=>(0,r.jsx)("div",{className:`px-6 py-4 border-b border-gray-200 ${o}`,children:e})])},18566,(e,r,o)=>{r.exports=e.r(76562)},29377,e=>{"use strict";let r=(0,e.i(75254).default)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>r],29377)},57222,e=>{"use strict";var r=e.i(43476),o=e.i(71645),s=e.i(18566),t=e.i(5050),i=e.i(29377),a=e.i(17927),l=e.i(36271);function n(){let e=(0,s.useRouter)();return(0,o.useEffect)(()=>{(async()=>{try{let{data:{session:r},error:o}=await a.supabase.auth.getSession();if(o)throw o;if(!r)return void e.push("/login");await (0,l.isRegistrationComplete)(r.user.id)?e.push("/dashboard"):(localStorage.setItem("pendingRegistration",JSON.stringify({userId:r.user.id,email:r.user.email,phone:r.user.phone||""})),e.push("/complete-registration"))}catch(r){console.error("Auth callback error:",r),e.push("/login")}})()},[e]),(0,r.jsx)("div",{className:"max-w-md mx-auto",children:(0,r.jsx)(t.Card,{children:(0,r.jsxs)(t.CardBody,{className:"text-center py-8",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Processing Sign In"}),(0,r.jsx)(i.Loader2,{className:"h-8 w-8 animate-spin text-primary-500 mx-auto"})]})})})}e.s(["default",()=>n])}]);