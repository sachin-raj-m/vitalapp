(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,29377,e=>{"use strict";let t=(0,e.i(75254).default)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],29377)},8374,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(18566),a=e.i(97815),i=e.i(17927),l=e.i(29377);function o({children:e}){let{user:o}=(0,a.useAuth)(),n=(0,r.useRouter)(),[c,d]=(0,s.useState)(!1),[u,h]=(0,s.useState)(!0);(0,s.useEffect)(()=>{m()},[o]);let m=async()=>{if(!o)return void n.push("/login");try{let{data:e,error:t}=await i.supabase.from("profiles").select("role").eq("id",o.id).single();e?.role==="admin"?d(!0):n.push("/dashboard")}catch(e){console.error("Error checking admin status"),n.push("/dashboard")}finally{h(!1)}};return u?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,t.jsx)(l.Loader2,{className:"h-8 w-8 animate-spin text-primary-500"})}):c?(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-6 text-gray-900 border-b pb-4",children:"Admin Console"}),e]}):null}e.s(["default",()=>o])}]);