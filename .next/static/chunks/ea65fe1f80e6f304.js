(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,r,s)=>{r.exports=e.r(76562)},5050,e=>{"use strict";var r=e.i(43476);e.s(["Card",0,({children:e,className:s=""})=>(0,r.jsx)("div",{className:`bg-white rounded-lg shadow-md overflow-hidden ${s}`,children:e}),"CardBody",0,({children:e,className:s=""})=>(0,r.jsx)("div",{className:`px-6 py-4 ${s}`,children:e}),"CardHeader",0,({children:e,className:s=""})=>(0,r.jsx)("div",{className:`px-6 py-4 border-b border-gray-200 ${s}`,children:e})])},98791,e=>{"use strict";let r=(0,e.i(75254).default)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>r],98791)},78896,e=>{"use strict";var r=e.i(43476),s=e.i(98791),a=e.i(75254);let t=(0,a.default)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),l=(0,a.default)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),o=(0,a.default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["Alert",0,({title:e,children:a,variant:i="info",onClose:n,className:d=""})=>{let c={info:(0,r.jsx)(l,{className:"h-5 w-5 text-blue-400"}),success:(0,r.jsx)(t,{className:"h-5 w-5 text-green-400"}),warning:(0,r.jsx)(s.AlertCircle,{className:"h-5 w-5 text-yellow-400"}),error:(0,r.jsx)(s.AlertCircle,{className:"h-5 w-5 text-red-400"})},m=`
    rounded-md p-4
    ${{info:"bg-blue-50 text-blue-800",success:"bg-green-50 text-green-800",warning:"bg-yellow-50 text-yellow-800",error:"bg-red-50 text-red-800"}[i]}
    ${d}
  `;return(0,r.jsx)("div",{className:m,children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:c[i]}),(0,r.jsxs)("div",{className:"ml-3 flex-1",children:[e&&(0,r.jsx)("h3",{className:"text-sm font-medium",children:e}),(0,r.jsx)("div",{className:`text-sm ${e?"mt-2":""}`,children:a})]}),n&&(0,r.jsx)("div",{className:"ml-auto pl-3",children:(0,r.jsx)("div",{className:"-mx-1.5 -my-1.5",children:(0,r.jsxs)("button",{type:"button",onClick:n,className:`
                  inline-flex rounded-md p-1.5 focus:outline-none focus:ring-2 focus:ring-offset-2
                  ${"info"===i?"text-blue-500 hover:bg-blue-100 focus:ring-blue-600":""}
                  ${"success"===i?"text-green-500 hover:bg-green-100 focus:ring-green-600":""}
                  ${"warning"===i?"text-yellow-500 hover:bg-yellow-100 focus:ring-yellow-600":""}
                  ${"error"===i?"text-red-500 hover:bg-red-100 focus:ring-red-600":""}
                `,children:[(0,r.jsx)("span",{className:"sr-only",children:"Dismiss"}),(0,r.jsx)(o,{className:"h-5 w-5"})]})})})]})})}],78896)},1206,e=>{"use strict";var r=e.i(43476);e.s(["Input",0,({label:e,error:s,helperText:a,className:t="",...l})=>{let o=l.id||l.name||Math.random().toString(36).substring(2,9);return(0,r.jsxs)("div",{className:"mb-4",children:[e&&(0,r.jsx)("label",{htmlFor:o,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),(0,r.jsx)("input",{id:o,className:`
          w-full px-3 py-2 border rounded-md shadow-sm placeholder-gray-400 
          focus:outline-none focus:ring-2 
          ${s?"border-error-300 focus:border-error-500 focus:ring-error-500":"border-gray-300 focus:border-secondary-500 focus:ring-secondary-500"}
          ${t}
        `,...l}),s&&(0,r.jsx)("p",{className:"mt-1 text-sm text-error-500",children:s}),a&&!s&&(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:a})]})},"Select",0,({label:e,error:s,helperText:a,options:t,className:l="",...o})=>{let i=o.id||o.name||Math.random().toString(36).substring(2,9);return(0,r.jsxs)("div",{className:"mb-4",children:[e&&(0,r.jsx)("label",{htmlFor:i,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),(0,r.jsx)("select",{id:i,className:`
          w-full px-3 py-2 border rounded-md shadow-sm placeholder-gray-400 
          focus:outline-none focus:ring-2 
          ${s?"border-error-300 focus:border-error-500 focus:ring-error-500":"border-gray-300 focus:border-secondary-500 focus:ring-secondary-500"}
          ${l}
        `,...o,children:t.map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))}),s&&(0,r.jsx)("p",{className:"mt-1 text-sm text-error-500",children:s}),a&&!s&&(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:a})]})},"Textarea",0,({label:e,error:s,helperText:a,className:t="",...l})=>{let o=l.id||l.name||Math.random().toString(36).substring(2,9);return(0,r.jsxs)("div",{className:"mb-4",children:[e&&(0,r.jsx)("label",{htmlFor:o,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),(0,r.jsx)("textarea",{id:o,className:`
          w-full px-3 py-2 border rounded-md shadow-sm placeholder-gray-400 
          focus:outline-none focus:ring-2 
          ${s?"border-error-300 focus:border-error-500 focus:ring-error-500":"border-gray-300 focus:border-secondary-500 focus:ring-secondary-500"}
          ${t}
        `,...l}),s&&(0,r.jsx)("p",{className:"mt-1 text-sm text-error-500",children:s}),a&&!s&&(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:a})]})}])},47755,e=>{"use strict";var r=e.i(43476),s=e.i(71645),a=e.i(18566),t=e.i(22016);let l=(0,e.i(75254).default)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var o=e.i(5050),i=e.i(1206),n=e.i(76525),d=e.i(78896),c=e.i(97815),m=e.i(17927);function u(){(0,a.useRouter)();let{signUp:e}=(0,c.useAuth)(),[u,x]=(0,s.useState)({email:"",password:"",confirmPassword:"",phone:""}),[h,p]=(0,s.useState)(""),[y,g]=(0,s.useState)({}),[f,b]=(0,s.useState)(!1),[w,j]=(0,s.useState)(!1),v=async e=>{let r;if(e.preventDefault(),p(""),g({}),r={},u.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.email)||(r.email="Please enter a valid email address"):r.email="Email is required",u.password?u.password.length<6&&(r.password="Password must be at least 6 characters long"):r.password="Password is required",u.confirmPassword?u.password!==u.confirmPassword&&(r.confirmPassword="Passwords do not match"):r.confirmPassword="Please confirm your password",u.phone||(r.phone="Phone number is required"),g(r),0===Object.keys(r).length){b(!0);try{let{data:e,error:r}=await m.supabase.auth.signUp({email:u.email,password:u.password,options:{data:{phone:u.phone,registration_completed:!1},emailRedirectTo:`${window.location.origin}/complete-registration`}});if(r)throw r;if(!e.user)throw Error("Failed to create account");localStorage.setItem("pendingRegistration",JSON.stringify({userId:e.user.id,email:u.email,phone:u.phone})),j(!0)}catch(e){console.error("Registration error:",e),e?.message?.includes("User already registered")?p("An account with this email already exists"):e?.message?p(e.message):p("Failed to create account. Please try again.")}finally{b(!1)}}};return w?(0,r.jsx)("div",{className:"max-w-md mx-auto",children:(0,r.jsx)(o.Card,{children:(0,r.jsxs)(o.CardBody,{className:"text-center py-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Verify Your Email"}),(0,r.jsxs)("p",{className:"text-gray-600 mb-6",children:["We've sent a verification link to ",(0,r.jsx)("strong",{children:u.email})]}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"Please check your email and click the verification link to complete your registration."}),(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:["Didn't receive the email?"," ",(0,r.jsx)("button",{onClick:()=>j(!1),className:"text-primary-500 hover:text-primary-600",children:"Try again"})]})]})})}):(0,r.jsx)("div",{className:"max-w-md mx-auto",children:(0,r.jsxs)(o.Card,{children:[(0,r.jsxs)(o.CardHeader,{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-center text-gray-900",children:"Create Account"}),(0,r.jsx)("p",{className:"text-center text-gray-600 mt-2",children:"Join our community of blood donors"})]}),(0,r.jsxs)(o.CardBody,{children:[h&&(0,r.jsx)(d.Alert,{variant:"error",className:"mb-4",children:h}),(0,r.jsxs)("form",{onSubmit:v,className:"space-y-4",children:[(0,r.jsx)(i.Input,{label:"Email",type:"email",value:u.email,onChange:e=>x({...u,email:e.target.value}),required:!0,autoComplete:"email",placeholder:"your.email@example.com",error:y.email}),(0,r.jsx)(i.Input,{label:"Phone",type:"tel",value:u.phone,onChange:e=>x({...u,phone:e.target.value}),required:!0,autoComplete:"tel",placeholder:"Enter your phone number",error:y.phone}),(0,r.jsx)(i.Input,{label:"Password",type:"password",value:u.password,onChange:e=>x({...u,password:e.target.value}),required:!0,autoComplete:"new-password",placeholder:"Minimum 6 characters",error:y.password}),(0,r.jsx)(i.Input,{label:"Confirm Password",type:"password",value:u.confirmPassword,onChange:e=>x({...u,confirmPassword:e.target.value}),required:!0,autoComplete:"new-password",placeholder:"Re-enter your password",error:y.confirmPassword}),(0,r.jsx)(n.Button,{type:"submit",variant:"primary",className:"w-full",isLoading:f,leftIcon:(0,r.jsx)(l,{className:"h-5 w-5"}),children:"Create Account"})]}),(0,r.jsx)("div",{className:"mt-6 text-center",children:(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",(0,r.jsx)(t.default,{href:"/login",className:"text-primary-500 hover:text-primary-600",children:"Sign in"})]})})]})]})})}e.s(["default",()=>u],47755)}]);