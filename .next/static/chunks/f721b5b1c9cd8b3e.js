(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,98791,e=>{"use strict";let a=(0,e.i(75254).default)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>a],98791)},1206,78896,e=>{"use strict";var a=e.i(43476);e.s(["Input",0,({label:e,error:l,helperText:t,className:r="",...s})=>{let o=s.id||s.name||Math.random().toString(36).substring(2,9);return(0,a.jsxs)("div",{className:"mb-4",children:[e&&(0,a.jsx)("label",{htmlFor:o,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),(0,a.jsx)("input",{id:o,className:`
          w-full px-3 py-2 border rounded-md shadow-sm placeholder-gray-400 
          focus:outline-none focus:ring-2 
          ${l?"border-error-300 focus:border-error-500 focus:ring-error-500":"border-gray-300 focus:border-secondary-500 focus:ring-secondary-500"}
          ${r}
        `,...s}),l&&(0,a.jsx)("p",{className:"mt-1 text-sm text-error-500",children:l}),t&&!l&&(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:t})]})},"Select",0,({label:e,error:l,helperText:t,options:r,className:s="",...o})=>{let n=o.id||o.name||Math.random().toString(36).substring(2,9);return(0,a.jsxs)("div",{className:"mb-4",children:[e&&(0,a.jsx)("label",{htmlFor:n,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),(0,a.jsx)("select",{id:n,className:`
          w-full px-3 py-2 border rounded-md shadow-sm placeholder-gray-400 
          focus:outline-none focus:ring-2 
          ${l?"border-error-300 focus:border-error-500 focus:ring-error-500":"border-gray-300 focus:border-secondary-500 focus:ring-secondary-500"}
          ${s}
        `,...o,children:r.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))}),l&&(0,a.jsx)("p",{className:"mt-1 text-sm text-error-500",children:l}),t&&!l&&(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:t})]})},"Textarea",0,({label:e,error:l,helperText:t,className:r="",...s})=>{let o=s.id||s.name||Math.random().toString(36).substring(2,9);return(0,a.jsxs)("div",{className:"mb-4",children:[e&&(0,a.jsx)("label",{htmlFor:o,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),(0,a.jsx)("textarea",{id:o,className:`
          w-full px-3 py-2 border rounded-md shadow-sm placeholder-gray-400 
          focus:outline-none focus:ring-2 
          ${l?"border-error-300 focus:border-error-500 focus:ring-error-500":"border-gray-300 focus:border-secondary-500 focus:ring-secondary-500"}
          ${r}
        `,...s}),l&&(0,a.jsx)("p",{className:"mt-1 text-sm text-error-500",children:l}),t&&!l&&(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:t})]})}],1206);var l=e.i(98791),t=e.i(75254);let r=(0,t.default)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),s=(0,t.default)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),o=(0,t.default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["Alert",0,({title:e,children:t,variant:n="info",onClose:i,className:c=""})=>{let d={info:(0,a.jsx)(s,{className:"h-5 w-5 text-blue-400"}),success:(0,a.jsx)(r,{className:"h-5 w-5 text-green-400"}),warning:(0,a.jsx)(l.AlertCircle,{className:"h-5 w-5 text-yellow-400"}),error:(0,a.jsx)(l.AlertCircle,{className:"h-5 w-5 text-red-400"})},u=`
    rounded-md p-4
    ${{info:"bg-blue-50 text-blue-800",success:"bg-green-50 text-green-800",warning:"bg-yellow-50 text-yellow-800",error:"bg-red-50 text-red-800"}[n]}
    ${c}
  `;return(0,a.jsx)("div",{className:u,children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:d[n]}),(0,a.jsxs)("div",{className:"ml-3 flex-1",children:[e&&(0,a.jsx)("h3",{className:"text-sm font-medium",children:e}),(0,a.jsx)("div",{className:`text-sm ${e?"mt-2":""}`,children:t})]}),i&&(0,a.jsx)("div",{className:"ml-auto pl-3",children:(0,a.jsx)("div",{className:"-mx-1.5 -my-1.5",children:(0,a.jsxs)("button",{type:"button",onClick:i,className:`
                  inline-flex rounded-md p-1.5 focus:outline-none focus:ring-2 focus:ring-offset-2
                  ${"info"===n?"text-blue-500 hover:bg-blue-100 focus:ring-blue-600":""}
                  ${"success"===n?"text-green-500 hover:bg-green-100 focus:ring-green-600":""}
                  ${"warning"===n?"text-yellow-500 hover:bg-yellow-100 focus:ring-yellow-600":""}
                  ${"error"===n?"text-red-500 hover:bg-red-100 focus:ring-red-600":""}
                `,children:[(0,a.jsx)("span",{className:"sr-only",children:"Dismiss"}),(0,a.jsx)(o,{className:"h-5 w-5"})]})})})]})})}],78896)},46897,e=>{"use strict";let a=(0,e.i(75254).default)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>a],46897)},74019,e=>{"use strict";var a=e.i(43476),l=e.i(71645),t=e.i(18566),r=e.i(46897),s=e.i(98791),o=e.i(5050),n=e.i(1206),i=e.i(76525),c=e.i(78896),d=e.i(97815),u=e.i(17927);function m(){let e=(0,t.useRouter)(),{user:m}=(0,d.useAuth)(),[x,h]=(0,l.useState)(!1),[g,b]=(0,l.useState)(""),[p,y]=(0,l.useState)({bloodGroup:"",unitsNeeded:1,hospitalName:"",hospitalAddress:"",urgencyLevel:"",notes:"",contactName:m?.full_name||"",contactPhone:m?.phone||"",location:{latitude:0,longitude:0,address:""}}),v=async a=>{if(a.preventDefault(),m){h(!0),b("");try{let{error:a}=await u.supabase.from("blood_requests").insert({user_id:m.id,blood_group:p.bloodGroup,units_needed:p.unitsNeeded,hospital_name:p.hospitalName,hospital_address:p.hospitalAddress,urgency_level:p.urgencyLevel,notes:p.notes,contact_name:p.contactName,contact_phone:p.contactPhone,location:p.location,status:"active"});if(a)throw a;e.push("/requests")}catch(e){b(e.message||"Failed to create request")}finally{h(!1)}}};return(0,a.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,a.jsxs)(o.Card,{children:[(0,a.jsxs)(o.CardHeader,{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Create Blood Request"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Fill in the details to create a new blood request"})]}),(0,a.jsxs)(o.CardBody,{children:[g&&(0,a.jsx)(c.Alert,{variant:"error",className:"mb-4",children:g}),(0,a.jsxs)("form",{onSubmit:v,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsx)(n.Select,{label:"Blood Group",value:p.bloodGroup,onChange:e=>y({...p,bloodGroup:e.target.value}),options:[{value:"",label:"Select Blood Group"},{value:"A+",label:"A+"},{value:"A-",label:"A-"},{value:"B+",label:"B+"},{value:"B-",label:"B-"},{value:"AB+",label:"AB+"},{value:"AB-",label:"AB-"},{value:"O+",label:"O+"},{value:"O-",label:"O-"}],required:!0}),(0,a.jsx)(n.Input,{type:"number",label:"Units Needed",min:1,value:p.unitsNeeded,onChange:e=>y({...p,unitsNeeded:parseInt(e.target.value)}),required:!0})]}),(0,a.jsx)(n.Input,{label:"Hospital Name",value:p.hospitalName,onChange:e=>y({...p,hospitalName:e.target.value}),required:!0}),(0,a.jsx)(n.Input,{label:"Hospital Address",value:p.hospitalAddress,onChange:e=>y({...p,hospitalAddress:e.target.value}),required:!0}),(0,a.jsx)(n.Select,{label:"Urgency Level",value:p.urgencyLevel,onChange:e=>y({...p,urgencyLevel:e.target.value}),options:[{value:"",label:"Select Urgency Level"},{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}],required:!0}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Location"}),(0,a.jsx)("div",{className:"flex gap-2",children:(0,a.jsx)(i.Button,{type:"button",variant:"secondary",onClick:()=>{"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(e=>{y(a=>({...a,location:{...a.location,latitude:e.coords.latitude,longitude:e.coords.longitude}}))},e=>{console.error("Error getting location:",e)})},leftIcon:(0,a.jsx)(r.MapPin,{className:"h-5 w-5"}),children:"Get Current Location"})})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsx)(n.Input,{label:"Contact Name",value:p.contactName,onChange:e=>y({...p,contactName:e.target.value}),required:!0}),(0,a.jsx)(n.Input,{label:"Contact Phone",value:p.contactPhone,onChange:e=>y({...p,contactPhone:e.target.value}),required:!0})]}),(0,a.jsx)(n.Textarea,{label:"Additional Notes",value:p.notes,onChange:e=>y({...p,notes:e.target.value}),placeholder:"Any additional information that might be helpful..."}),(0,a.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,a.jsx)(i.Button,{type:"button",variant:"ghost",onClick:()=>e.push("/requests"),children:"Cancel"}),(0,a.jsx)(i.Button,{type:"submit",variant:"primary",isLoading:x,leftIcon:(0,a.jsx)(s.AlertCircle,{className:"h-5 w-5"}),children:"Create Request"})]})]})]})]})})}e.s(["default",()=>m])}]);