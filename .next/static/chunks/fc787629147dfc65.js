(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,5050,e=>{"use strict";var a=e.i(43476);e.s(["Card",0,({children:e,className:r=""})=>(0,a.jsx)("div",{className:`bg-white rounded-lg shadow-md overflow-hidden ${r}`,children:e}),"CardBody",0,({children:e,className:r=""})=>(0,a.jsx)("div",{className:`px-6 py-4 ${r}`,children:e}),"CardHeader",0,({children:e,className:r=""})=>(0,a.jsx)("div",{className:`px-6 py-4 border-b border-gray-200 ${r}`,children:e})])},47755,e=>{"use strict";var a=e.i(43476),r=e.i(71645),s=e.i(18566),t=e.i(22016);let i=(0,e.i(75254).default)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var l=e.i(5050),o=e.i(1206),d=e.i(76525),n=e.i(78896),c=e.i(97815),m=e.i(17927);function u(){let e=(0,s.useRouter)(),{signUp:u}=(0,c.useAuth)(),[p,h]=(0,r.useState)({email:"",password:""}),[x,y]=(0,r.useState)(""),[g,w]=(0,r.useState)({}),[v,j]=(0,r.useState)(!1),f=async a=>{let r;if(a.preventDefault(),y(""),w({}),r={},p.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(p.email)||(r.email="Please enter a valid email address"):r.email="Email is required",p.password?p.password.length<6&&(r.password="Password must be at least 6 characters long"):r.password="Password is required",w(r),0===Object.keys(r).length){j(!0);try{let{data:a,error:r}=await m.supabase.auth.signUp({email:p.email,password:p.password,options:{data:{registration_completed:!1},emailRedirectTo:`${window.location.origin}/complete-registration`}});if(r)throw r;if(!a.user)throw Error("Failed to create account");localStorage.setItem("pendingRegistration",JSON.stringify({userId:a.user.id,email:p.email})),e.push("/complete-registration")}catch(e){console.error("Registration error"),e?.message?.includes("User already registered")?y("An account with this email already exists"):e?.message?y(e.message):y("Failed to create account. Please try again.")}finally{j(!1)}}};return(0,a.jsx)("div",{className:"max-w-md mx-auto",children:(0,a.jsxs)(l.Card,{children:[(0,a.jsxs)(l.CardHeader,{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-center text-gray-900",children:"Create Account"}),(0,a.jsx)("p",{className:"text-center text-gray-600 mt-2",children:"Join our community of blood donors"})]}),(0,a.jsxs)(l.CardBody,{children:[x&&(0,a.jsx)(n.Alert,{variant:"error",className:"mb-4",children:x}),(0,a.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[(0,a.jsx)(o.Input,{label:"Email",type:"email",value:p.email,onChange:e=>h({...p,email:e.target.value}),required:!0,autoComplete:"email",placeholder:"your.email@example.com",error:g.email}),(0,a.jsx)(o.Input,{label:"Password",type:"password",value:p.password,onChange:e=>h({...p,password:e.target.value}),required:!0,autoComplete:"new-password",placeholder:"Minimum 6 characters",error:g.password}),(0,a.jsx)(d.Button,{type:"submit",variant:"primary",className:"w-full",isLoading:v,leftIcon:(0,a.jsx)(i,{className:"h-5 w-5"}),children:"Create Account"})]}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",(0,a.jsx)(t.default,{href:"/login",className:"text-primary-500 hover:text-primary-600",children:"Sign in"})]})})]})]})})}e.s(["default",()=>u],47755)}]);