module.exports=[34904,a=>{"use strict";var b=a.i(87924);a.s(["Card",0,({children:a,className:c=""})=>(0,b.jsx)("div",{className:`bg-white rounded-lg shadow-md overflow-hidden ${c}`,children:a}),"CardBody",0,({children:a,className:c=""})=>(0,b.jsx)("div",{className:`px-6 py-4 ${c}`,children:a}),"CardHeader",0,({children:a,className:c=""})=>(0,b.jsx)("div",{className:`px-6 py-4 border-b border-gray-200 ${c}`,children:a})])},90821,a=>{"use strict";let b=(0,a.i(70106).default)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],90821)},24452,33508,a=>{"use strict";var b=a.i(87924),c=a.i(90821),d=a.i(70106);let e=(0,d.default)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),f=(0,d.default)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),g=(0,d.default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["X",()=>g],33508),a.s(["Alert",0,({title:a,children:d,variant:h="info",onClose:i,className:j=""})=>{let k={info:(0,b.jsx)(f,{className:"h-5 w-5 text-blue-400"}),success:(0,b.jsx)(e,{className:"h-5 w-5 text-green-400"}),warning:(0,b.jsx)(c.AlertCircle,{className:"h-5 w-5 text-yellow-400"}),error:(0,b.jsx)(c.AlertCircle,{className:"h-5 w-5 text-red-400"})},l=`
    rounded-md p-4
    ${{info:"bg-blue-50 text-blue-800",success:"bg-green-50 text-green-800",warning:"bg-yellow-50 text-yellow-800",error:"bg-red-50 text-red-800"}[h]}
    ${j}
  `;return(0,b.jsx)("div",{className:l,children:(0,b.jsxs)("div",{className:"flex",children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:k[h]}),(0,b.jsxs)("div",{className:"ml-3 flex-1",children:[a&&(0,b.jsx)("h3",{className:"text-sm font-medium",children:a}),(0,b.jsx)("div",{className:`text-sm ${a?"mt-2":""}`,children:d})]}),i&&(0,b.jsx)("div",{className:"ml-auto pl-3",children:(0,b.jsx)("div",{className:"-mx-1.5 -my-1.5",children:(0,b.jsxs)("button",{type:"button",onClick:i,className:`
                  inline-flex rounded-md p-1.5 focus:outline-none focus:ring-2 focus:ring-offset-2
                  ${"info"===h?"text-blue-500 hover:bg-blue-100 focus:ring-blue-600":""}
                  ${"success"===h?"text-green-500 hover:bg-green-100 focus:ring-green-600":""}
                  ${"warning"===h?"text-yellow-500 hover:bg-yellow-100 focus:ring-yellow-600":""}
                  ${"error"===h?"text-red-500 hover:bg-red-100 focus:ring-red-600":""}
                `,children:[(0,b.jsx)("span",{className:"sr-only",children:"Dismiss"}),(0,b.jsx)(g,{className:"h-5 w-5"})]})})})]})})}],24452)},88367,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(78560),e=a.i(34904),f=a.i(12466),g=a.i(24452),h=a.i(26017),i=a.i(70106);let j=(0,i.default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var k=a.i(33508);let l=(0,i.default)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),m=(0,i.default)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);function n(){let[a,i]=(0,c.useState)([]),[n,o]=(0,c.useState)(!0),[p,q]=(0,c.useState)(null),[r,s]=(0,c.useState)("");(0,c.useEffect)(()=>{t()},[]);let t=async()=>{try{let{data:a,error:b}=await d.supabase.from("profiles").select("*").eq("verification_status","pending").eq("is_donor",!0).order("created_at",{ascending:!1});if(b)throw b;i(a||[])}catch(a){s(a.message)}finally{o(!1)}},u=async(a,b)=>{q(a);try{let{error:c}=await d.supabase.from("profiles").update({verification_status:b}).eq("id",a);if(c)throw c;i(b=>b.filter(b=>b.id!==a))}catch(a){s(a.message)}finally{q(null)}};return n?(0,b.jsx)("div",{className:"flex justify-center py-8",children:(0,b.jsx)(h.Loader2,{className:"h-8 w-8 animate-spin text-primary-500"})}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("h2",{className:"text-xl font-semibold",children:["Pending Verifications (",a.length,")"]}),r&&(0,b.jsx)(g.Alert,{variant:"error",children:r}),0===a.length?(0,b.jsx)(e.Card,{children:(0,b.jsx)(e.CardBody,{className:"text-center py-8 text-gray-500",children:"No pending verifications found."})}):(0,b.jsx)("div",{className:"grid gap-4",children:a.map(a=>(0,b.jsx)(e.Card,{children:(0,b.jsxs)(e.CardBody,{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-lg",children:a.full_name}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:a.email}),(0,b.jsxs)("div",{className:"mt-2 flex items-center space-x-4",children:[(0,b.jsx)("span",{className:"bg-primary-100 text-primary-800 text-xs px-2 py-1 rounded-full font-medium",children:a.blood_group}),(0,b.jsxs)("span",{className:"text-xs text-gray-500",children:["Submitted: ",new Date(a.created_at).toLocaleDateString()]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 w-full md:w-auto",children:[a.blood_group_proof_url&&(0,b.jsxs)("a",{href:(a=>{if(!a)return"";let{data:b}=d.supabase.storage.from("proofs").getPublicUrl(a);return b.publicUrl})(a.blood_group_proof_url),target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-blue-600 hover:text-blue-800 text-sm mr-4",children:[(0,b.jsx)(l,{className:"h-4 w-4 mr-1"}),"View Proof",(0,b.jsx)(m,{className:"h-3 w-3 ml-1"})]}),(0,b.jsx)(f.Button,{variant:"secondary",onClick:()=>u(a.id,"rejected"),isLoading:p===a.id,className:"text-red-600 hover:text-red-700 hover:bg-red-50",leftIcon:(0,b.jsx)(k.X,{className:"h-4 w-4"}),children:"Reject"}),(0,b.jsx)(f.Button,{variant:"primary",onClick:()=>u(a.id,"verified"),isLoading:p===a.id,leftIcon:(0,b.jsx)(j,{className:"h-4 w-4"}),children:"Approve"})]})]})},a.id))})]})}a.s(["default",()=>n],88367)}];

//# sourceMappingURL=_6ac8b6fc._.js.map