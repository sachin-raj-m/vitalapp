module.exports=[35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},90821,a=>{"use strict";let b=(0,a.i(70106).default)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],90821)},24452,95756,a=>{"use strict";var b=a.i(87924),c=a.i(90821),d=a.i(70106);let e=(0,d.default)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>e],95756);let f=(0,d.default)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var g=a.i(33508);a.s(["Alert",0,({title:a,children:d,variant:h="info",onClose:i,className:j=""})=>{let k={info:(0,b.jsx)(f,{className:"h-5 w-5 text-blue-400"}),success:(0,b.jsx)(e,{className:"h-5 w-5 text-green-400"}),warning:(0,b.jsx)(c.AlertCircle,{className:"h-5 w-5 text-yellow-400"}),error:(0,b.jsx)(c.AlertCircle,{className:"h-5 w-5 text-red-400"})},l=`
    rounded-md p-4
    ${{info:"bg-blue-50 text-blue-800",success:"bg-green-50 text-green-800",warning:"bg-yellow-50 text-yellow-800",error:"bg-red-50 text-red-800"}[h]}
    ${j}
  `;return(0,b.jsx)("div",{className:l,children:(0,b.jsxs)("div",{className:"flex",children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:k[h]}),(0,b.jsxs)("div",{className:"ml-3 flex-1",children:[a&&(0,b.jsx)("h3",{className:"text-sm font-medium",children:a}),(0,b.jsx)("div",{className:`text-sm ${a?"mt-2":""}`,children:d})]}),i&&(0,b.jsx)("div",{className:"ml-auto pl-3",children:(0,b.jsx)("div",{className:"-mx-1.5 -my-1.5",children:(0,b.jsxs)("button",{type:"button",onClick:i,className:`
                  inline-flex rounded-md p-1.5 focus:outline-none focus:ring-2 focus:ring-offset-2
                  ${"info"===h?"text-blue-500 hover:bg-blue-100 focus:ring-blue-600":""}
                  ${"success"===h?"text-green-500 hover:bg-green-100 focus:ring-green-600":""}
                  ${"warning"===h?"text-yellow-500 hover:bg-yellow-100 focus:ring-yellow-600":""}
                  ${"error"===h?"text-red-500 hover:bg-red-100 focus:ring-red-600":""}
                `,children:[(0,b.jsx)("span",{className:"sr-only",children:"Dismiss"}),(0,b.jsx)(g.X,{className:"h-5 w-5"})]})})})]})})}],24452)},33354,(a,b,c)=>{"use strict";c._=function(a){return a&&a.__esModule?a:{default:a}}},41675,a=>{"use strict";let b=(0,a.i(70106).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Calendar",()=>b],41675)},62104,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(34904),e=a.i(34048),f=a.i(53131),g=a.i(78560),h=a.i(26017),i=a.i(41675),j=a.i(24452);function k(){let{user:a}=(0,f.useAuth)(),[k,l]=(0,c.useState)([]),[m,n]=(0,c.useState)(!0),[o,p]=(0,c.useState)("");(0,c.useEffect)(()=>{(async()=>{if(a)try{let{data:b,error:c}=await g.supabase.from("donations").select(`
                        id,
                        created_at,
                        status,
                        request:blood_requests (
                            hospital_name
                        )
                    `).eq("donor_id",a.id).order("created_at",{ascending:!1});if(c)throw c;let d=(b||[]).map(a=>({...a,request:Array.isArray(a.request)?a.request[0]:a.request}));l(d)}catch(a){console.error("Error fetching donations:",a),p("Failed to load donation history")}finally{n(!1)}})()},[a]);let q=k.filter(a=>"completed"===a.status),r=q.length,s=(()=>{let a=0===q.length?null:new Date(q[0].created_at);if(!a)return new Date;let b=new Date(a);return b.setDate(b.getDate()+56),b})(),t=s<=new Date;return m?(0,b.jsx)("div",{className:"flex justify-center items-center min-h-[60vh]",children:(0,b.jsx)(h.Loader2,{className:"h-8 w-8 animate-spin text-primary-500"})}):(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"My Donations"}),o&&(0,b.jsx)(j.Alert,{variant:"error",className:"mb-4",children:o}),(0,b.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Total Donations"})}),(0,b.jsxs)(d.CardBody,{children:[(0,b.jsx)("div",{className:"text-3xl font-bold text-primary-500",children:r}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Lives impacted"})]})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Points Earned"})}),(0,b.jsxs)(d.CardBody,{children:[(0,b.jsx)("div",{className:"text-3xl font-bold text-secondary-500",children:50*r}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Reward points"})]})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Next Available"})}),(0,b.jsxs)(d.CardBody,{children:[(0,b.jsx)("div",{className:`text-3xl font-bold ${t?"text-success-500":"text-orange-500"}`,children:t?"Ready":s.toLocaleDateString()}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:t?"You can donate again":"Next eligible date"})]})]})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Donation History"})}),(0,b.jsx)(d.CardBody,{children:0===k.length?(0,b.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No donations found. Your journey starts with the first step!"}):(0,b.jsx)("div",{className:"space-y-4",children:k.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 border-b last:border-0",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:a.request?.hospital_name||"Unknown Hospital"}),(0,b.jsxs)("p",{className:"text-sm text-gray-500 flex items-center mt-1",children:[(0,b.jsx)(i.Calendar,{className:"h-3 w-3 mr-1"}),new Date(a.created_at).toLocaleDateString()]})]}),(0,b.jsx)(e.Badge,{variant:"completed"===a.status?"success":"warning",children:a.status.charAt(0).toUpperCase()+a.status.slice(1)})]},a.id))})})]})]})}a.s(["default",()=>k])}];

//# sourceMappingURL=_6249ad35._.js.map