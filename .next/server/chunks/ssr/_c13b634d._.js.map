{"version":3,"sources":["../../../../components/ui/Card.tsx","../../../../node_modules/lucide-react/src/icons/loader-2.ts","../../../../context/RequestsContext.tsx","../../../../utils/auth.ts","../../../../node_modules/lucide-react/src/icons/phone.ts","../../../../components/ProtectedRoute.tsx","../../../../components/RegistrationGuard.tsx","../../../../components/VerificationBanner.tsx","../../../../app/%28protected%29/layout.tsx"],"sourcesContent":["import React from 'react';\n\ninterface CardProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport const Card: React.FC<CardProps> = ({ children, className = '' }) => {\n  return (\n    <div className={`bg-white rounded-lg shadow-md overflow-hidden ${className}`}>\n      {children}\n    </div>\n  );\n};\n\ninterface CardHeaderProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport const CardHeader: React.FC<CardHeaderProps> = ({ children, className = '' }) => {\n  return (\n    <div className={`px-6 py-4 border-b border-gray-200 ${className}`}>\n      {children}\n    </div>\n  );\n};\n\ninterface CardBodyProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport const CardBody: React.FC<CardBodyProps> = ({ children, className = '' }) => {\n  return (\n    <div className={`px-6 py-4 ${className}`}>\n      {children}\n    </div>\n  );\n};\n\ninterface CardFooterProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport const CardFooter: React.FC<CardFooterProps> = ({ children, className = '' }) => {\n  return (\n    <div className={`px-6 py-4 border-t border-gray-200 ${className}`}>\n      {children}\n    </div>\n  );\n};","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Loader2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTJhOSA5IDAgMSAxLTYuMjE5LTguNTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/loader-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Loader2 = createLucideIcon('Loader2', [\n  ['path', { d: 'M21 12a9 9 0 1 1-6.219-8.56', key: '13zald' }],\n]);\n\nexport default Loader2;\n","\"use client\";\n\nimport React, { createContext, useContext, useState, useEffect, useCallback } from 'react';\nimport { supabase } from '@/lib/supabase';\nimport type { BloodRequest } from '@/types';\nimport { useAuth } from './AuthContext';\n\ninterface RequestsContextType {\n    requests: BloodRequest[]; // Active requests\n    myDonations: Set<string>; // IDs of requests user has offered to donate to\n    loading: boolean;\n    error: Error | null;\n    refreshRequests: () => Promise<void>;\n}\n\nconst RequestsContext = createContext<RequestsContextType | undefined>(undefined);\n\nexport function RequestsProvider({ children }: { children: React.ReactNode }) {\n    const { user } = useAuth(); // We might need user for RLS, or generally to trigger fetch on auth change\n    const [requests, setRequests] = useState<BloodRequest[]>([]);\n    const [myDonations, setMyDonations] = useState<Set<string>>(new Set());\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState<Error | null>(null);\n\n    const fetchRequests = useCallback(async () => {\n        try {\n            setLoading(true);\n            setError(null);\n\n            // Centralized fetch: Only Active requests, newest first\n            const { data, error: supabaseError } = await supabase\n                .from('blood_requests')\n                .select('*')\n                .eq('status', 'active')\n                .order('created_at', { ascending: false });\n\n            if (supabaseError) throw supabaseError;\n\n            setRequests(data as BloodRequest[] || []);\n\n            // Also fetch user's donations if logged in\n            if (user) {\n                const { data: donationData, error: donationError } = await supabase\n                    .from('donations')\n                    .select('request_id')\n                    .eq('donor_id', user.id)\n                    .neq('status', 'cancelled'); // Active offers only\n\n                if (!donationError && donationData) {\n                    setMyDonations(new Set(donationData.map(d => d.request_id)));\n                }\n            } else {\n                setMyDonations(new Set());\n            }\n\n        } catch (err: any) {\n            console.error('Error in RequestsContext:', err);\n            setError(err);\n        } finally {\n            setLoading(false);\n        }\n    }, [user]); // Re-fetch when user changes\n\n    // Fetch on mount or when user changes (e.g. login/logout could change RLS visibility)\n    useEffect(() => {\n        fetchRequests();\n\n        // Optional: Real-time subscription could go here\n        const channel = supabase\n            .channel('public_requests')\n            .on('postgres_changes',\n                { event: '*', schema: 'public', table: 'blood_requests' },\n                () => {\n\n                    fetchRequests();\n                }\n            )\n            .subscribe();\n\n        return () => {\n            supabase.removeChannel(channel);\n        };\n    }, [fetchRequests, user]);\n\n    const value = {\n        requests,\n        myDonations,\n        loading,\n        error,\n        refreshRequests: fetchRequests\n    };\n\n    return <RequestsContext.Provider value={value}>{children}</RequestsContext.Provider>;\n}\n\nexport const useRequests = () => {\n    const context = useContext(RequestsContext);\n    if (context === undefined) {\n        throw new Error('useRequests must be used within a RequestsProvider');\n    }\n    return context;\n};\n","import { supabase } from '../lib/supabase';\n\nexport async function isRegistrationComplete(userId: string): Promise<boolean> {\n    try {\n\n        const { data: profile, error } = await supabase\n            .from('profiles')\n            .select('full_name, blood_group, blood_group_proof_url')\n            .eq('id', userId)\n            .single();\n\n        if (error) {\n            console.error('Error fetching profile:', error);\n            throw error;\n        }\n\n\n\n        const isComplete = !!(\n            profile &&\n            profile.full_name &&\n            profile.blood_group &&\n            profile.blood_group_proof_url\n        );\n\n\n        return isComplete;\n    } catch (error) {\n        console.error('Error checking registration status:', error);\n        return false;\n    }\n} ","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Phone\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjIgMTYuOTJ2M2EyIDIgMCAwIDEtMi4xOCAyIDE5Ljc5IDE5Ljc5IDAgMCAxLTguNjMtMy4wNyAxOS41IDE5LjUgMCAwIDEtNi02IDE5Ljc5IDE5Ljc5IDAgMCAxLTMuMDctOC42N0EyIDIgMCAwIDEgNC4xMSAyaDNhMiAyIDAgMCAxIDIgMS43MiAxMi44NCAxMi44NCAwIDAgMCAuNyAyLjgxIDIgMiAwIDAgMS0uNDUgMi4xMUw4LjA5IDkuOTFhMTYgMTYgMCAwIDAgNiA2bDEuMjctMS4yN2EyIDIgMCAwIDEgMi4xMS0uNDUgMTIuODQgMTIuODQgMCAwIDAgMi44MS43QTIgMiAwIDAgMSAyMiAxNi45MnoiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/phone\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Phone = createLucideIcon('Phone', [\n  [\n    'path',\n    {\n      d: 'M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z',\n      key: 'foiqr5',\n    },\n  ],\n]);\n\nexport default Phone;\n","\"use client\";\n\n// components/ProtectedRoute.tsx\nimport { useEffect, useState } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport { useRouter, usePathname } from 'next/navigation';\n\nexport function ProtectedRoute({ children }: { children: React.ReactNode }) {\n  const { user, session, loading, error, refreshProfile } = useAuth();\n  const router = useRouter();\n  const pathname = usePathname();\n  const [retryCount, setRetryCount] = useState(0);\n\n\n\n  // Handle missing profile data despite active session\n  useEffect(() => {\n    if (session?.user?.id && !user && !loading && retryCount < 3) {\n\n      refreshProfile();\n      setRetryCount(prevCount => prevCount + 1);\n    }\n  }, [session, user, loading, refreshProfile, retryCount]);\n\n  // After 3 retries, if still no user profile, redirect to login\n  useEffect(() => {\n    if ((!user || !session) && (!loading || retryCount >= 3)) {\n      router.push(`/login?from=${pathname}`);\n    }\n  }, [user, session, loading, retryCount, router, pathname]);\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-center\">\n          <h2 className=\"text-xl font-semibold mb-2\">Loading...</h2>\n          <p className=\"text-gray-600\">Please wait while we prepare your dashboard.</p>\n        </div>\n      </div>\n    );\n  }\n\n  if ((!user || !session) && (!loading || retryCount >= 3)) {\n    return null; // Or a loading spinner while redirecting\n  }\n\n\n  return <>{children}</>;\n}","\"use client\";\n\nimport React, { useEffect, useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useAuth } from '../context/AuthContext';\nimport { isRegistrationComplete } from '../utils/auth';\nimport { Card, CardBody } from './ui/Card';\nimport { Loader2 } from 'lucide-react';\n\ninterface RegistrationGuardProps {\n    children: React.ReactNode;\n}\n\nexport function RegistrationGuard({ children }: RegistrationGuardProps) {\n    const router = useRouter();\n    const { user } = useAuth();\n    const [isChecking, setIsChecking] = useState(true);\n\n    useEffect(() => {\n        const checkRegistration = async () => {\n\n            if (!user) {\n\n                router.push('/login');\n                return;\n            }\n\n            try {\n\n                const isComplete = await isRegistrationComplete(user.id);\n\n\n                if (!isComplete) {\n\n                    // Store basic info for registration completion\n                    const pendingData = {\n                        userId: user.id,\n                        email: user.email,\n                        phone: user.phone || ''\n                    };\n\n                    localStorage.setItem('pendingRegistration', JSON.stringify(pendingData));\n                    router.push('/complete-registration');\n                } else {\n\n                    setIsChecking(false);\n                }\n            } catch (error) {\n                console.error('RegistrationGuard: Error checking registration:', error);\n                // On error, redirect to complete registration\n                const pendingData = {\n                    userId: user.id,\n                    email: user.email,\n                    phone: user.phone || ''\n                };\n                localStorage.setItem('pendingRegistration', JSON.stringify(pendingData));\n                router.push('/complete-registration');\n            }\n        };\n\n        checkRegistration();\n    }, [user, router]);\n\n    if (isChecking) {\n        return (\n            <div className=\"max-w-md mx-auto\">\n                <Card>\n                    <CardBody className=\"text-center py-8\">\n                        <h2 className=\"text-xl font-semibold mb-4\">Checking Profile</h2>\n                        <Loader2 className=\"h-8 w-8 animate-spin text-primary-500 mx-auto\" />\n                    </CardBody>\n                </Card>\n            </div>\n        );\n    }\n\n    return <>{children}</>;\n} ","import React, { useState, useEffect } from 'react';\nimport { useAuth } from '@/context/AuthContext';\nimport { Alert } from '@/components/ui/Alert';\nimport { Button } from '@/components/ui/Button';\nimport { supabase } from '@/lib/supabase';\nimport { Mail, Phone, X } from 'lucide-react';\n\nexport const VerificationBanner = () => {\n    const { session, user } = useAuth();\n    const [isVisible, setIsVisible] = useState(true);\n    const [loading, setLoading] = useState<'email' | 'phone' | null>(null);\n    const [sent, setSent] = useState<'email' | 'phone' | null>(null);\n    const [error, setError] = useState<string>('');\n\n    if (!session?.user || !isVisible) return null;\n\n    const emailVerified = session.user.email_confirmed_at;\n    const phoneVerified = session.user.phone_confirmed_at;\n\n    // If both are verified (or phone is missing and email is verified), don't show\n    if (emailVerified && (phoneVerified || !user?.phone)) return null;\n\n    // Use user.phone (from profile) if session phone is missing\n    const userPhone = user?.phone || session.user.phone;\n\n    // Check if we really need to show this\n    // If phone exists in profile but is not verified in auth\n    const needsPhoneVerification = userPhone && !phoneVerified;\n\n    if (!needsPhoneVerification && emailVerified) return null;\n\n    const handleVerifyEmail = async () => {\n        setLoading('email');\n        setError('');\n        try {\n            const { error } = await supabase.auth.resend({\n                type: 'signup',\n                email: session.user.email!,\n                options: {\n                    emailRedirectTo: `${window.location.origin}/dashboard`\n                }\n            });\n            if (error) throw error;\n            setSent('email');\n        } catch (err: any) {\n            console.error('Error sending verification email');\n            setError(err.message || 'Failed to send verification email');\n        } finally {\n            setLoading(null);\n        }\n    };\n\n    const handleVerifyPhone = async () => {\n        // Phone verification via OTP usually requires a more complex UI (modal to enter code)\n        // For this banner, we might just trigger the OTP send\n        // But without an input field, user can't verify.\n        // So maybe this button should redirect to profile?\n        // Let's make it redirect to profile for now.\n        window.location.href = '/profile';\n    };\n\n    return (\n        <div className=\"bg-yellow-50 border-b border-yellow-200 p-4 relative\">\n            <div className=\"max-w-7xl mx-auto flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4\">\n                <div className=\"flex-1\">\n                    <h3 className=\"text-sm font-medium text-yellow-800 flex items-center gap-2\">\n                        <span className=\"flex items-center justify-center w-5 h-5 rounded-full bg-yellow-200 text-yellow-700 text-xs font-bold\">!</span>\n                        Account Verification\n                    </h3>\n                    <p className=\"mt-1 text-sm text-yellow-700\">\n                        {!emailVerified && needsPhoneVerification\n                            ? \"Please verify your email and phone number to secure your account.\"\n                            : !emailVerified\n                                ? \"Please verify your email address to secure your account.\"\n                                : \"Please verify your phone number to secure your account.\"\n                        }\n                    </p>\n                    {error && <p className=\"mt-1 text-xs text-red-600\">{error}</p>}\n                    {sent === 'email' && <p className=\"mt-1 text-xs text-green-600\">Verification email sent!</p>}\n                </div>\n\n                <div className=\"flex flex-wrap gap-2\">\n                    {!emailVerified && sent !== 'email' && (\n                        <Button\n                            size=\"sm\"\n                            variant=\"outline\"\n                            className=\"bg-white hover:bg-yellow-50 text-yellow-700 border-yellow-300\"\n                            onClick={handleVerifyEmail}\n                            isLoading={loading === 'email'}\n                            leftIcon={<Mail className=\"h-3 w-3\" />}\n                        >\n                            Verify Email\n                        </Button>\n                    )}\n\n                    {needsPhoneVerification && (\n                        <Button\n                            size=\"sm\"\n                            variant=\"outline\"\n                            className=\"bg-white hover:bg-yellow-50 text-yellow-700 border-yellow-300\"\n                            onClick={handleVerifyPhone}\n                            leftIcon={<Phone className=\"h-3 w-3\" />}\n                        >\n                            Verify Phone\n                        </Button>\n                    )}\n\n                    <button\n                        onClick={() => setIsVisible(false)}\n                        className=\"text-yellow-500 hover:text-yellow-700 p-1\"\n                        aria-label=\"Dismiss\"\n                    >\n                        <X className=\"h-5 w-5\" />\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n};\n","\"use client\";\n\nimport React from 'react';\nimport { ProtectedRoute } from '@/components/ProtectedRoute';\nimport { RegistrationGuard } from '@/components/RegistrationGuard';\nimport { VerificationBanner } from '@/components/VerificationBanner';\n\nimport { RequestsProvider } from '@/context/RequestsContext';\n\nexport default function ProtectedLayout({\n    children,\n}: {\n    children: React.ReactNode;\n}) {\n    return (\n        <ProtectedRoute>\n            <RegistrationGuard>\n                <RequestsProvider>\n                    <div className=\"flex flex-col min-h-screen\">\n                        <VerificationBanner />\n                        {children}\n                    </div>\n                </RequestsProvider>\n            </RegistrationGuard>\n        </ProtectedRoute>\n    );\n}\n"],"names":[],"mappings":"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","ignoreList":[1,4]}