module.exports=[38679,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(12466),f=a.i(53131),g=a.i(31067),h=a.i(46842),i=a.i(7629),j=a.i(70106);let k=(0,j.default)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);var l=a.i(33508);let m=(0,j.default)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);var n=a.i(95756),o=a.i(97063);let p=(0,j.default)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);var q=a.i(78560),r=a.i(10738),s=a.i(50944);let t=()=>{let{user:a}=(0,f.useAuth)(),d=(0,s.useRouter)(),[e,g]=(0,c.useState)([]),[h,i]=(0,c.useState)(!1),[j,k]=(0,c.useState)(0),l=(0,c.useRef)(null);(0,c.useEffect)(()=>{let a=a=>{l.current&&!l.current.contains(a.target)&&i(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]),(0,c.useEffect)(()=>{a&&t()},[a]);let t=async()=>{let{data:b}=await q.supabase.from("notifications").select("*").eq("user_id",a?.id).order("created_at",{ascending:!1}).limit(10);b&&(g(b),k(b.filter(a=>!a.is_read).length))},u=async(a,b)=>{g(b=>b.map(b=>b.id===a?{...b,is_read:!0}:b)),k(a=>Math.max(0,a-1)),await q.supabase.from("notifications").update({is_read:!0}).eq("id",a),b&&(i(!1),d.push(b))};return(0,b.jsxs)("div",{className:"relative",ref:l,children:[(0,b.jsxs)("button",{onClick:()=>i(!h),className:"relative p-2 text-gray-600 hover:text-primary-600 hover:bg-gray-100 rounded-full transition-colors",title:"Notifications",children:[(0,b.jsx)(m,{className:"h-6 w-6"}),j>0&&(0,b.jsx)("span",{className:"absolute top-1 right-1 h-3 w-3 bg-red-500 rounded-full border-2 border-white animate-pulse"})]}),h&&(0,b.jsxs)("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl border border-gray-100 z-50 overflow-hidden",children:[(0,b.jsxs)("div",{className:"p-3 border-b border-gray-50 bg-gray-50 flex justify-between items-center",children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-700 text-sm",children:"Notifications"}),j>0&&(0,b.jsxs)("span",{className:"text-xs text-primary-600 font-medium",children:[j," New"]})]}),(0,b.jsx)("div",{className:"max-h-[300px] overflow-y-auto",children:0===e.length?(0,b.jsxs)("div",{className:"p-8 text-center text-gray-400",children:[(0,b.jsx)(m,{className:"h-8 w-8 mx-auto mb-2 opacity-20"}),(0,b.jsx)("p",{className:"text-sm",children:"No notifications yet"})]}):e.map(a=>(0,b.jsxs)("div",{onClick:()=>u(a.id,a.link),className:`p-3 border-b border-gray-50 hover:bg-gray-50 cursor-pointer transition-colors flex gap-3 ${!a.is_read?"bg-blue-50/30":""}`,children:[(0,b.jsx)("div",{className:"mt-1 flex-shrink-0",children:(a=>{switch(a){case"match":return(0,b.jsx)(p,{className:"h-5 w-5 text-blue-500"});case"update":return(0,b.jsx)(n.CheckCircle,{className:"h-5 w-5 text-green-500"});default:return(0,b.jsx)(o.Info,{className:"h-5 w-5 text-gray-500"})}})(a.type)}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:`text-sm ${!a.is_read?"font-semibold text-gray-900":"text-gray-700"}`,children:a.title}),(0,b.jsx)("p",{className:"text-xs text-gray-500 line-clamp-2 mt-0.5",children:a.message}),(0,b.jsx)("p",{className:"text-[10px] text-gray-400 mt-1",children:(0,r.formatDistanceToNow)(new Date(a.created_at),{addSuffix:!0})})]}),!a.is_read&&(0,b.jsx)("div",{className:"mt-2 h-2 w-2 bg-blue-500 rounded-full flex-shrink-0"})]},a.id))})]})]})};function u(){let{user:a}=(0,f.useAuth)(),[j,m]=(0,c.useState)(!1),n=()=>m(!1);return(0,b.jsx)("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:(0,b.jsxs)("div",{className:"container mx-auto px-4 py-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)(d.default,{href:"/",className:"text-2xl font-bold text-primary-600 flex items-center",onClick:n,children:[(0,b.jsx)(i.HeartPulse,{className:"h-8 w-8 mr-2"}),"Vital"]}),(0,b.jsx)("button",{className:"md:hidden p-2 text-gray-600 hover:text-gray-900 focus:outline-none",onClick:()=>m(!j),children:j?(0,b.jsx)(l.X,{className:"h-6 w-6"}):(0,b.jsx)(k,{className:"h-6 w-6"})}),(0,b.jsx)("nav",{className:"hidden md:flex items-center space-x-6",children:a?(0,b.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,b.jsx)(d.default,{href:"/dashboard",className:"text-gray-600 hover:text-gray-900",children:"Dashboard"}),(0,b.jsx)(d.default,{href:"/requests",className:"text-gray-600 hover:text-gray-900",children:"Requests"}),(0,b.jsx)(d.default,{href:"/requests/my-requests",className:"text-gray-600 hover:text-gray-900",children:"My Requests"}),(0,b.jsx)(d.default,{href:"/donations",className:"text-gray-600 hover:text-gray-900",children:"Donations"}),(0,b.jsx)(d.default,{href:"/nearby-donors",className:"text-gray-600 hover:text-gray-900",children:"Find Donors"}),"admin"===a.role&&(0,b.jsx)(d.default,{href:"/admin",className:"text-red-600 font-medium hover:text-red-700",children:"Admin Console"}),(0,b.jsx)(t,{}),(0,b.jsx)(d.default,{href:"/profile",children:(0,b.jsx)(e.Button,{variant:"ghost",className:"p-2",children:(0,b.jsx)(h.User,{className:"h-5 w-5"})})})]}):(0,b.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,b.jsx)(d.default,{href:"/requests",className:"text-gray-600 hover:text-gray-900",children:"Requests"}),(0,b.jsx)(d.default,{href:"/nearby-donors",className:"text-gray-600 hover:text-gray-900",children:"Find Donors"}),(0,b.jsx)(d.default,{href:"/login",children:(0,b.jsxs)(e.Button,{variant:"ghost",className:"flex items-center space-x-2",children:[(0,b.jsx)(g.LogIn,{className:"h-5 w-5"}),(0,b.jsx)("span",{children:"Login"})]})})]})})]}),j&&(0,b.jsx)("div",{className:"md:hidden mt-4 pb-4 border-t border-gray-100 pt-4 space-y-4",children:a?(0,b.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,b.jsx)(d.default,{href:"/dashboard",onClick:n,className:"block px-2 py-1 text-gray-600 hover:text-primary-600 hover:bg-gray-50 rounded-md",children:"Dashboard"}),(0,b.jsx)(d.default,{href:"/requests",onClick:n,className:"block px-2 py-1 text-gray-600 hover:text-primary-600 hover:bg-gray-50 rounded-md",children:"Requests"}),(0,b.jsx)(d.default,{href:"/requests/my-requests",onClick:n,className:"block px-2 py-1 text-gray-600 hover:text-primary-600 hover:bg-gray-50 rounded-md",children:"My Requests"}),(0,b.jsx)(d.default,{href:"/requests/my-requests",onClick:n,className:"block px-2 py-1 text-gray-600 hover:text-primary-600 hover:bg-gray-50 rounded-md",children:"My Requests"}),(0,b.jsx)(d.default,{href:"/donations",onClick:n,className:"block px-2 py-1 text-gray-600 hover:text-primary-600 hover:bg-gray-50 rounded-md",children:"Donations"}),(0,b.jsx)(d.default,{href:"/nearby-donors",onClick:n,className:"block px-2 py-1 text-gray-600 hover:text-primary-600 hover:bg-gray-50 rounded-md",children:"Find Donors"}),"admin"===a.role&&(0,b.jsx)(d.default,{href:"/admin",onClick:n,className:"block px-2 py-1 text-red-600 font-medium hover:bg-red-50 rounded-md",children:"Admin Console"}),(0,b.jsxs)(d.default,{href:"/profile",onClick:n,className:"flex items-center space-x-2 px-2 py-1 text-gray-600 hover:text-primary-600 hover:bg-gray-50 rounded-md",children:[(0,b.jsx)(h.User,{className:"h-5 w-5"}),(0,b.jsx)("span",{children:"Profile"})]})]}):(0,b.jsx)(d.default,{href:"/login",onClick:n,children:(0,b.jsxs)(e.Button,{variant:"ghost",className:"w-full flex items-center justify-center space-x-2",children:[(0,b.jsx)(g.LogIn,{className:"h-5 w-5"}),(0,b.jsx)("span",{children:"Login"})]})})})]})})}a.s(["Header",()=>u],38679)},783,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(92258),f=a.i(53131),g=a.i(50944),h=a.i(36272);a.s(["Footer",0,()=>{let{user:a}=(0,f.useAuth)(),i=(0,g.useRouter)(),[j,k]=(0,c.useState)(!1);return(0,b.jsxs)("footer",{className:"bg-white border-t border-gray-100 py-12 pb-24 md:pb-12 mt-auto",children:[(0,b.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 flex flex-col items-center",children:[(0,b.jsx)("div",{className:"flex items-center space-x-2 mb-4",children:(0,b.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:"Vital"})}),(0,b.jsx)("p",{className:"text-gray-500 text-center max-w-md mb-8",children:"Connecting donors with those in need, instantly. Join our mission to save lives every day."}),(0,b.jsxs)("div",{className:"flex flex-wrap justify-center gap-8 mb-8",children:[(0,b.jsx)(d.default,{href:"/requests",className:"text-sm font-medium text-gray-600 hover:text-red-500 transition-colors",children:"Find Donors"}),(0,b.jsx)("a",{href:"/requests/new",onClick:b=>{b.preventDefault(),a?i.push("/requests/new"):k(!0)},className:"text-sm font-medium text-gray-600 hover:text-red-500 transition-colors cursor-pointer",children:"Request Blood"}),(0,b.jsx)(d.default,{href:"/register",className:"text-sm font-medium text-gray-600 hover:text-red-500 transition-colors",children:"Become a Donor"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2 text-gray-500 hover:text-red-500 transition-colors",children:[(0,b.jsx)(e.Mail,{className:"h-4 w-4"}),(0,b.jsx)("a",{href:"mailto:sachin@vitalapp.in",className:"text-sm font-medium",children:"sachin@vitalapp.in"})]}),(0,b.jsxs)("div",{className:"mt-12 text-center text-xs text-gray-400",children:["Â© ",new Date().getFullYear()," Vital Blood Donation. All rights reserved."]})]}),(0,b.jsx)(h.AuthModal,{isOpen:j,onClose:()=>k(!1),onSuccess:()=>{k(!1),i.push("/requests/new")},message:"Login to Create Request"})]})}])},17104,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(33508),e=a.i(70106);let f=(0,e.default)("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]),g=(0,e.default)("PlusSquare",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);var h=a.i(12466);function i(){let[a,e]=(0,c.useState)(null),[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)(!1);(0,c.useEffect)(()=>{if(window.matchMedia("(display-mode: standalone)").matches)return;let a=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;l(a),a&&(localStorage.getItem("pwa_prompt_dismissed")||setTimeout(()=>j(!0),3e3));let b=a=>{a.preventDefault(),e(a),localStorage.getItem("pwa_prompt_dismissed")||j(!0)};return window.addEventListener("beforeinstallprompt",b),()=>{window.removeEventListener("beforeinstallprompt",b)}},[]);let m=async()=>{if(a){a.prompt();let{outcome:b}=await a.userChoice;"accepted"===b&&e(null),j(!1)}};return i?(0,b.jsxs)("div",{className:"fixed bottom-4 left-4 right-4 z-50 md:left-auto md:right-4 md:w-96 bg-white rounded-xl shadow-2xl border border-gray-100 p-4 animate-in slide-in-from-bottom-5",children:[(0,b.jsx)("button",{onClick:()=>{j(!1),localStorage.setItem("pwa_prompt_dismissed","true")},className:"absolute top-2 right-2 text-gray-400 hover:text-gray-600",children:(0,b.jsx)(d.X,{size:20})}),(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"bg-primary-100 p-3 rounded-lg",children:(0,b.jsx)("img",{src:"/icons/icon-192x192.png",alt:"App Icon",className:"w-8 h-8 rounded-md"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-900",children:"Install VitalApp"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Get the best experience with full-screen access and offline support."}),k?(0,b.jsxs)("div",{className:"mt-3 text-sm bg-gray-50 p-3 rounded-lg border border-gray-100",children:[(0,b.jsxs)("p",{className:"flex items-center gap-2 mb-1",children:["1. Tap the ",(0,b.jsx)(f,{size:16})," Share button"]}),(0,b.jsxs)("p",{className:"flex items-center gap-2",children:["2. Select ",(0,b.jsx)(g,{size:16})," ",(0,b.jsx)("strong",{children:"Add to Home Screen"})]})]}):(0,b.jsx)("div",{className:"mt-4 flex gap-3",children:(0,b.jsx)(h.Button,{size:"sm",className:"w-full",onClick:m,children:"Install App"})})]})]})]}):null}a.s(["PWAInstallPrompt",()=>i],17104)}];

//# sourceMappingURL=components_c5a1a57e._.js.map